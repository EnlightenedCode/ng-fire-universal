<h3>My Avatar</h3>
<div class="inner">
  <div
    class="avatar"
    [class.default]="!user.avatar"
    (click)="triggerUpload()"
    *ngIf="user.data | async as info">
    <div
      class="image"
      [style.backgroundImage]="'url(' + info.avatar + ')'"
      *ngIf="info.avatar && !user.isUploading"></div>
    <i
      class="fas fa-user"
      *ngIf="!info.avatar && !user.isUploading"></i>
    <div
      class="loading"
      [class.disabled]="!user.isUploading">
      <app-loading-spinner></app-loading-spinner>
    </div>
  </div>
  <button
    type="button"
    [disabled]="user.isUpdating || user.isUploading || !platform.isOnline()"
    (click)="triggerUpload()"
    class="btn btn-sm btn-primary">
    <i class="fa fa-upload mr-1 mr-md-2"></i>
    Change Avatar
  </button>
</div>
<input
  type="file"
  class="d-none"
  id="upload"
  name="upload"
  accept=".png,.jpg"
  (change)="upload($event)">
